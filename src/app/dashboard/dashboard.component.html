<div class="m-2 m-sm-4" #graphWrapper>
  <h1 class="content-header">
    Dashboard
  </h1>
  <div class="row mx-0 row-cols-1 row-cols-md-2 g-2" #graphWrapper>
    <app-card-wrapper [isDefault]="true">
      <div class="row mx-0">
        <div class="col-12 col-sm-6">
          <app-counter-box [iconSrc]="'color-icons/coin.svg'" [value]="68000" [text]="'Income'"></app-counter-box>
        </div>
        <div class="col-12 col-sm-6">
          <app-counter-box [iconSrc]="'color-icons/visiting-card.svg'" [value]="30000" [text]="'Expense'"></app-counter-box>
        </div>
      </div>
    </app-card-wrapper>
    <app-card-wrapper [isDefault]="true" [hasDescription]="true">
      <ngx-charts-linear-gauge [view]="[view[0], 150]" [scheme]="colorScheme" [value]="1500" [previousValue]="1200"
        [units]="'Expense'">
      </ngx-charts-linear-gauge>
      <div class="row gap-2">
        <div class="card-caption flex-space-between">
            <span class="label">Your spendings exceeded by 300$</span>
            <span class="value">$1800
              <app-custom-popover></app-custom-popover>
            </span>
        </div>
        <div class="card-caption flex-space-between">
            <span class="label">Upcoming bills</span>
            <span class="value">$990 
              <app-custom-popover></app-custom-popover>
            </span>
        </div>
    </div>
    </app-card-wrapper>
    <app-card-wrapper [isDefault]="true">
      <ngx-charts-tree-map [view]="view" [results]="treeInfo" [animations]="true"
        [labelFormatting]="treeLabelFormatting">
      </ngx-charts-tree-map>
    </app-card-wrapper>
    <app-card-wrapper [isDefault]="true">
      <ngx-charts-bar-vertical-stacked [view]="view" [results]="multi" [gradient]="false" [xAxis]="true" [yAxis]="true"
        [legend]="true" [legendTitle]="''" [showXAxisLabel]="true" [showYAxisLabel]="true" [xAxisLabel]="'Day'"
        [yAxisLabel]="'Expense'" [animations]="true" [legendPosition]="legendPosition">
      </ngx-charts-bar-vertical-stacked>
    </app-card-wrapper>
    <app-card-wrapper>
      <div>
        <h2 class="sub-header flex-center">
          Upcoming expenses
        </h2>
        <div class="my-3">
          <app-custom-table [tableData]="expenseData"></app-custom-table>
        </div>
      </div>
    </app-card-wrapper>
    <app-card-wrapper>
      <div>
        <h2 class="sub-header flex-center">
          Upcoming credits
        </h2>
        <div class="my-3">
          <app-custom-table [tableData]="creditsData"></app-custom-table>
        </div>
      </div>
    </app-card-wrapper>
    <app-card-wrapper [isDonutChart]="true">
      <ngx-charts-pie-chart [view]="view" [legendPosition]="legendPosition" [results]="series" [legend]="true"
        [labels]="true" [doughnut]="true" [legendTitle]="''" [labelFormatting]="pieChartLabel.bind(this, series)"
        [animations]="false">
      </ngx-charts-pie-chart>
    </app-card-wrapper>
    <app-card-wrapper [isDonutChart]="true">
      <ngx-charts-pie-chart [view]="view" [legendPosition]="legendPosition" [results]="series" [legend]="true"
        [labels]="true" [explodeSlices]="true" [legendTitle]="''" [labelFormatting]="pieChartLabel.bind(this, series)"
        [animations]="false">
      </ngx-charts-pie-chart>
    </app-card-wrapper>
  </div>
</div>
